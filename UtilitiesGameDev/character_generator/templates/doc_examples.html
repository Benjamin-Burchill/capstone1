{% extends "base.html" %}

{% block title %}Character Generator - Code Examples{% endblock %}

{% block content %}
<h1>ðŸ’» Code Examples</h1>
<p>Practical examples demonstrating how to use the Character Generator system.</p>

{% for example in examples %}
<div style="margin: 2rem 0;">
    <h2>{{ example.title }}</h2>
    <div class="code-block">{{ example.code }}</div>
</div>
{% endfor %}

<h2>Advanced Examples</h2>

<h3>Batch Character Generation</h3>
<div class="code-block">
from character_generator_advanced import AdvancedCharacterGenerator
import random

generator = AdvancedCharacterGenerator()

# Generate 10 random characters
for i in range(10):
    # Randomize parameters
    params = {
        'height': random.uniform(0.8, 1.2),
        'build': random.uniform(-0.5, 0.5),
        'muscle_definition': random.uniform(-0.3, 0.7),
        'head_size': random.uniform(-0.2, 0.2),
        'jaw_width': random.uniform(-0.3, 0.3)
    }
    
    # Apply parameters
    for key, value in params.items():
        generator.set_parameter(key, value)
    
    # Generate and save
    mesh = generator.generate()
    mesh.export(f'character_{i:03d}.obj')
    
    print(f"Generated character_{i:03d}.obj")
</div>

<h3>Creating Custom Presets</h3>
<div class="code-block">
import json

# Define custom preset
orc_preset = {
    "name": "Orc Warrior",
    "parameters": {
        "height": 1.15,
        "build": 0.4,
        "muscle_definition": 0.7,
        "jaw_width": 0.5,
        "jaw_height": 0.3,
        "brow_ridge": 0.6,
        "shoulder_width": 0.5,
        "chest_size": 0.4,
        "horn_size": 0.3,
        "horn_position": 0.2
    }
}

# Save preset
with open('presets/orc_warrior.json', 'w') as f:
    json.dump(orc_preset, f, indent=2)

# Load in generator
generator.load_preset_from_file('presets/orc_warrior.json')
</div>

<h3>Mesh Post-Processing</h3>
<div class="code-block">
import trimesh

# Generate character
generator = AdvancedCharacterGenerator()
mesh = generator.generate()

# Apply post-processing
mesh.fix_normals()  # Ensure normals point outward
mesh.fill_holes()   # Fill any holes in the mesh
mesh.remove_degenerate_faces()  # Clean up bad geometry

# Simplify for game use
simplified = mesh.simplify_quadric_decimation(
    face_count=1000  # Target face count
)

# Apply smoothing
smooth = mesh.smoothed()  # Laplacian smoothing

# Export processed mesh
smooth.export('character_processed.obj')
</div>

<h3>Integrating with Game Engines</h3>
<div class="code-block">
# Unity Integration Example
import os
import shutil

# Generate character
generator = AdvancedCharacterGenerator()
generator.load_preset('warrior')
mesh = generator.generate()

# Export to Unity Assets folder
unity_path = "path/to/Unity/Project/Assets/Characters/"
filename = "warrior_character.obj"

# Save mesh
mesh.export(os.path.join(unity_path, filename))

# Create material file (basic .mtl)
mtl_content = """
newmtl CharacterMaterial
Ns 96.078431
Ka 1.000000 1.000000 1.000000
Kd 0.640000 0.640000 0.640000
Ks 0.500000 0.500000 0.500000
Ke 0.000000 0.000000 0.000000
Ni 1.000000
d 1.000000
illum 2
"""

with open(os.path.join(unity_path, filename.replace('.obj', '.mtl')), 'w') as f:
    f.write(mtl_content)

print(f"Character exported to Unity: {filename}")
</div>

{% endblock %}


